# Redis Configuration File

# General settings
bind 0.0.0.0  # Allow connections from any IP address (useful in Docker)
protected-mode no  # Disable protected mode, allowing external access (use with caution)

# Port
port 6379  # Default Redis port

# Logging settings
loglevel notice  # Log level: debug, verbose, notice, warning
logfile ""  # No log file, logs will be printed to stdout by default (useful in Docker)

# Persistence settings
save 900 1  # Save the DB every 900 seconds (15 minutes) if at least 1 key changed
save 300 10  # Save the DB every 300 seconds (5 minutes) if at least 10 keys changed
save 60 10000  # Save the DB every 60 seconds if at least 10,000 keys changed

# RDB (Redis Database) settings
dbfilename dump.rdb  # The name of the file where the DB is stored
dir /data  # Directory where Redis will store the database file

# AOF (Append Only File) settings (Optional, use if you want durability)
# appendonly no  # Disable AOF persistence (enabled by default)
# appendfsync everysec  # AOF persistence with fsync every second (can be changed based on performance)

# Memory settings
maxmemory 512mb  # Limit Redis to use a maximum of 512MB of memory (adjust based on your system)
maxmemory-policy allkeys-lru  # LRU eviction policy, used when maxmemory is reached

# Security settings
# Require clients to authenticate before issuing commands (set a password here)
# requirepass foobarbaz  # Uncomment and set your password for authentication

# Clients connection settings
timeout 0  # Disable connection timeout (set a value if you want to limit idle connections)
tcp-backlog 511  # Maximum number of pending connections

# Cluster settings (optional, if using Redis Cluster)
# cluster-enabled yes  # Enable Redis Cluster (uncomment and configure if using Redis Cluster)
# cluster-config-file nodes.conf
# cluster-node-timeout 5000  # Node timeout for the cluster

# Replication settings (optional, if using Redis replication)
# slaveof <masterip> <masterport>  # Uncomment and set master details for replication
# masterauth <master-password>  # Set the master password for replication
# replica-serve-stale-data yes  # Allow replicas to serve stale data (set to no if you want stricter consistency)

# Sentinel settings (optional, if using Redis Sentinel)
# sentinel monitor mymaster 127.0.0.1 6379 2  # Monitor a master node with Sentinel
# sentinel auth-pass mymaster <password>  # Set the authentication password for Sentinel
